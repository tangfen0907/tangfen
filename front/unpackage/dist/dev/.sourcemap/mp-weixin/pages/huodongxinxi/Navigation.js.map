{"version":3,"sources":["uni-app:///main.js","webpack:///D:/biye/front/pages/huodongxinxi/Navigation.vue?a3ea","webpack:///D:/biye/front/pages/huodongxinxi/Navigation.vue?1fa9","webpack:///D:/biye/front/pages/huodongxinxi/Navigation.vue?4a70","webpack:///D:/biye/front/pages/huodongxinxi/Navigation.vue?08c8","uni-app:///pages/huodongxinxi/Navigation.vue","webpack:///D:/biye/front/pages/huodongxinxi/Navigation.vue?a103","webpack:///D:/biye/front/pages/huodongxinxi/Navigation.vue?7fca"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","latitude","longitude","activity_id","centerlat","centerlog","scale","marker","cover","onReady","computed","onLoad","onShow","methods","getMarker","params","page","limit","res","console","latOffset","lngOffset","markerMap","id","title","iconPath","width","height","callout","content","color","fontSize","borderRadius","padding","bgColor","display","getLocation","uni","success","scope","that","fail","cancelText","cancelColor","confirmText","confirmColor","fetchLocation","type","icon","refresh","onControltap","callouttap","markerData","itemList","navigateToDestination","goto","name","url"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,mBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AAC6K;AAC7K,gBAAgB,uLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAypB,CAAgB,sqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCsB7qB;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;IAEA;EACA;EACAC,6BAEA;EACAC;EACAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;cAEA;gBACA;gBACA;gBACA;;gBAEA;AACA;AACA;cACA;;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;AACA;AACA;gBACAC;kBACAC;kBACAC;gBACA;gBAAA;gBAAA;gBAAA,OAGA;cAAA;gBAAAC;gBACAC;gBAEA;kBACA;kBACA;kBAEAC;kBACAC;kBAEAC;kBAEA;kBACAJ;oBACAC;oBACA;oBACA;oBACAG;oBAEA;oBACA;;oBAEA;oBACA;sBACArB;sBACAC;oBACA;oBACA;oBACA;sBACAqB;sBACArB;sBACAD;sBACAuB;sBAEArB;oBACA;;oBACA;sBACAoB;sBACArB;sBACAD;sBACAwB;sBACAC;sBACAC;sBACAC;wBACAC;wBACAC;wBACAC;wBACAC;wBACAC;wBACAC;wBACAC;sBACA;oBACA;oBAGAhB;kBACA;gBACA;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAiB;MACA;MACA;MACAC;QACAC;UACA;UACA;YACA;YACAD;cACAE;cACAD;gBACA;gBACAE;cACA;cACAC;gBACA;gBACAtB;gBAEAkB;kBACAb;kBACAK;kBACAa;kBACAC;kBACAC;kBACAC;kBACAP;oBACA;sBACA;sBACAD;wBACAC;0BACA;4BACA;4BACAE;0BACA;wBACA;sBACA;oBACA;sBACA;sBACArB;oBACA;kBACA;gBACA;cACA;YACA;UACA;YACA;YACAqB;UACA;QACA;MACA;IACA;IAEAM;MACA;MACAT;QACAU;QACAT;UACAE;UACAA;UACArB;UACAA;QACA;QACAsB;UACAJ;YACAb;YACAwB;UACA;UACA7B;QACA;MACA;IACA;IAGA8B;MACA;MACA9B;MACA;IACA;IACA;IACA+B;MACA;MACAb;QAAA;QACApC;QACAC;MACA;MACAiB;IACA;IAEA;IACAgC;MAAA;MACA;MACA;MAEA;QACA;UACAC;UACA;QACA;MACA;MACAjC;MACA;QACAA;QACAkB;UACAgB;UACAf;YACA;cACA;cACA;YACA;cACA;cACA;YACA;UACA;UACAG;YACAtB;UACA;QACA;MACA;QACAA;MACA;IACA;IACAmC;MACA;MACAnC;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAoC;MACA;MACA;MACA;MACA;MACA;QAAA;QACA;QACAtD;QACAC;MACA;MACA;QAAA;QACAsD;QACAvD;QACAC;MACA;MACAmC;QACAoB,+FACA;QACAnB;UACAnB;QACA;QACAsB;UACAtB;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACnSA;AAAA;AAAA;AAAA;AAAowC,CAAgB,qtCAAG,EAAC,C;;;;;;;;;;;ACAxxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/huodongxinxi/Navigation.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/huodongxinxi/Navigation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./Navigation.vue?vue&type=template&id=448fc19c&scoped=true&\"\nvar renderjs\nimport script from \"./Navigation.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navigation.vue?vue&type=style&index=0&id=448fc19c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"448fc19c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/huodongxinxi/Navigation.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Navigation.vue?vue&type=template&id=448fc19c&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Navigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Navigation.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"map-container\">\r\n\t\t\t<map style=\"width: 100%; height: 100vh;\" :show-location='true' ref=\"map\" id=\"map\" :latitude=\"centerlat\"\r\n\t\t\t\t:longitude=\"centerlog\" :markers=\"marker\" :scale=\"scale\" @callouttap='callouttap'>\r\n\t\t\t\t<cover-view class=\"cover-view\" :style=''>\r\n\t\t\t\t\t<cover-view @click=\"refresh\">\r\n\t\t\t\t\t\t<cover-image class=\"cover-image\" src=\"/static/刷新.png\"></cover-image>\r\n\t\t\t\t\t\t<cover-view>刷新</cover-view>\r\n\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t<cover-view style=\"margin-top: 20rpx;\" @click=\"onControltap\">\r\n\t\t\t\t\t\t<cover-image class=\"cover-image\" src=\"/static/定位.png\"></cover-image>\r\n\t\t\t\t\t\t<cover-view>定位</cover-view>\r\n\t\t\t\t\t</cover-view>\r\n\r\n\t\t\t\t</cover-view>\r\n\t\t\t</map>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlatitude: '', //我的位置纬度\r\n\t\t\t\tlongitude: '', //我的位置经度\r\n\t\t\t\tactivity_id: '',\r\n\t\t\t\tcenterlat: '',\r\n\t\t\t\tcenterlog: '',\r\n\t\t\t\tscale: 12, //缩放级别\r\n\t\t\t\tmarker: [],\r\n\t\t\t\tcover: []\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tasync onLoad(options) {\r\n\r\n\t\t\tif (options.latitude && options.longitude && options.activity_id) {\r\n\t\t\t\tthis.centerlat = parseFloat(options.latitude);\r\n\t\t\t\tthis.centerlog = parseFloat(options.longitude);\r\n\t\t\t\tthis.activity_id = parseFloat(options.activity_id);\r\n\r\n\t\t\t\t/* console.log('centlat',this.centerlat);\r\n\t\t\t\tconsole.log('centlog',this.centerlog);\r\n\t\t\t\tconsole.log('activity',this.activity_id); */\r\n\t\t\t}\r\n\t\t\tthis.getMarker();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getLocation();\r\n\t\t\tthis.getMarker();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getMarker() {\r\n\t\t\t\t/* console.log('centlat',this.centerlat);\r\n\t\t\t\tconsole.log('centlog',this.centerlog);\r\n\t\t\t\tconsole.log('activity',this.activity_id); */\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 10\r\n\t\t\t\t};\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await this.$api.list('marker', params);\r\n\t\t\t\t\tconsole.log('marker', res.data.list);\r\n\r\n\t\t\t\t\tif (res && res.data && Array.isArray(res.data.list)) {\r\n\t\t\t\t\t\tthis.marker = [];\r\n\t\t\t\t\t\tthis.cover = []; // 重置 cover 数组\r\n\r\n\t\t\t\t\t\tlet latOffset = 0.0001; // 经度微调偏移量\r\n\t\t\t\t\t\tlet lngOffset = 0.0001; // 纬度微调偏移量\r\n\r\n\t\t\t\t\t\tlet markerMap = new Map(); // 用于存储经纬度及其出现次数的 Map\r\n\r\n\t\t\t\t\t\t// 遍历列表中的每一个 markerItem 对象\r\n\t\t\t\t\t\tres.data.list.forEach(markerItem => {\r\n\t\t\t\t\t\t\t console.log('markerItem:', markerItem);\r\n\t\t\t\t\t\t\tlet key = `${markerItem.latitude},${markerItem.longitude}`;\r\n\t\t\t\t\t\t\tlet count = markerMap.get(key) || 0;\r\n\t\t\t\t\t\t\tmarkerMap.set(key, count + 1);\r\n\r\n\t\t\t\t\t\t\tlet latitude = markerItem.latitude;\r\n\t\t\t\t\t\t\tlet longitude = markerItem.longitude;\r\n\r\n\t\t\t\t\t\t\t// 如果有相同经纬度的标注点，则进行微调\r\n\t\t\t\t\t\t\tif (count > 0) {\r\n\t\t\t\t\t\t\t\tlatitude += count * latOffset;\r\n\t\t\t\t\t\t\t\tlongitude += count * lngOffset;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// 同时将详细信息保存到 cover 数组\r\n\t\t\t\t\t\t\tthis.cover.push({\r\n\t\t\t\t\t\t\t\tid: markerItem.id,\r\n\t\t\t\t\t\t\t\tlongitude: longitude,\r\n\t\t\t\t\t\t\t\tlatitude: latitude,\r\n\t\t\t\t\t\t\t\ttitle: markerItem.title,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tactivity_id: markerItem.activityId // 确保包含 activity_id 字段\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.marker.push({\r\n\t\t\t\t\t\t\t\tid: markerItem.id,\r\n\t\t\t\t\t\t\t\tlongitude: longitude,\r\n\t\t\t\t\t\t\t\tlatitude: latitude,\r\n\t\t\t\t\t\t\t\ticonPath: 'http://localhost:8088/tangfen/upload/location.png',\r\n\t\t\t\t\t\t\t\twidth: 20,\r\n\t\t\t\t\t\t\t\theight: 20,\r\n\t\t\t\t\t\t\t\tcallout: {\r\n\t\t\t\t\t\t\t\t\tcontent: markerItem.title,\r\n\t\t\t\t\t\t\t\t\tcolor: '#ffffff',\r\n\t\t\t\t\t\t\t\t\tfontSize: 15,\r\n\t\t\t\t\t\t\t\t\tborderRadius: 15,\r\n\t\t\t\t\t\t\t\t\tpadding: '10',\r\n\t\t\t\t\t\t\t\t\tbgColor: '#406390',\r\n\t\t\t\t\t\t\t\t\tdisplay: 'ALWAYS'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t\tconsole.log('cover', this.cover);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('获取的地点数据无效:', res);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取地点数据时发生错误:', error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetLocation() {\r\n\t\t\t    let that = this;\r\n\t\t\t    // 获取用户是否开启授权获取当前的地理位置、速度的权限。\r\n\t\t\t    uni.getSetting({\r\n\t\t\t        success(res) {\r\n\t\t\t            // 如果没有授权\r\n\t\t\t            if (!res.authSetting['scope.userLocation']) {\r\n\t\t\t                // 则拉起授权窗口\r\n\t\t\t                uni.authorize({\r\n\t\t\t                    scope: 'scope.userLocation',\r\n\t\t\t                    success() {\r\n\t\t\t                        //点击允许后--就一直会进入成功授权的回调 就可以使用获取的方法了\r\n\t\t\t                        that.fetchLocation();\r\n\t\t\t                    },\r\n\t\t\t                    fail(error) {\r\n\t\t\t                        //点击了拒绝授权后--就一直会进入失败回调函数--此时就可以在这里重新拉起授权窗口\r\n\t\t\t                        console.log('拒绝授权', error);\r\n\t\t\t\r\n\t\t\t                        uni.showModal({\r\n\t\t\t                            title: '提示',\r\n\t\t\t                            content: '若点击不授权，将无法使用位置功能',\r\n\t\t\t                            cancelText: '不授权',\r\n\t\t\t                            cancelColor: '#999',\r\n\t\t\t                            confirmText: '授权',\r\n\t\t\t                            confirmColor: '#f94218',\r\n\t\t\t                            success(res) {\r\n\t\t\t                                if (res.confirm) {\r\n\t\t\t                                    // 选择弹框内授权\r\n\t\t\t                                    uni.openSetting({\r\n\t\t\t                                        success(res) {\r\n\t\t\t                                            if (res.authSetting['scope.userLocation']) {\r\n\t\t\t                                                // 用户已经同意授权\r\n\t\t\t                                                that.fetchLocation();\r\n\t\t\t                                            }\r\n\t\t\t                                        }\r\n\t\t\t                                    });\r\n\t\t\t                                } else if (res.cancel) {\r\n\t\t\t                                    // 选择弹框内 不授权\r\n\t\t\t                                    console.log('用户点击不授权');\r\n\t\t\t                                }\r\n\t\t\t                            }\r\n\t\t\t                        });\r\n\t\t\t                    }\r\n\t\t\t                });\r\n\t\t\t            } else {\r\n\t\t\t                // 有权限则直接获取\r\n\t\t\t                that.fetchLocation();\r\n\t\t\t            }\r\n\t\t\t        }\r\n\t\t\t    });\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tfetchLocation() {\r\n\t\t\t    let that = this;\r\n\t\t\t    uni.getLocation({\r\n\t\t\t        type: 'wgs84',\r\n\t\t\t        success(res) {\r\n\t\t\t            that.longitude = res.longitude;\r\n\t\t\t            that.latitude = res.latitude;\r\n\t\t\t            console.log('当前位置的经度：' + res.longitude);\r\n\t\t\t            console.log('当前位置的纬度：' + res.latitude);\r\n\t\t\t        },\r\n\t\t\t        fail(error) {\r\n\t\t\t            uni.showToast({\r\n\t\t\t                title: '请勿频繁调用！',\r\n\t\t\t                icon: 'none',\r\n\t\t\t            });\r\n\t\t\t            console.log('失败', error);\r\n\t\t\t        }\r\n\t\t\t    });\r\n\t\t\t},\r\n\r\n\r\n\t\t\trefresh() {\r\n\t\t\t\tthis.getLocation()\r\n\t\t\t\tconsole.log('刷新');\r\n\t\t\t\t//后期这里可加入调用请求接口的方法，用来实现刷新\r\n\t\t\t},\r\n\t\t\t//定位\r\n\t\t\tonControltap() {\r\n\t\t\t\tthis.getLocation()\r\n\t\t\t\tuni.createMapContext(\"map\", this).moveToLocation({ //moveToLocation将地图中心移动到当前定位点，需要配合map组件的show-location使用\r\n\t\t\t\t\tlatitude: this.latitude,\r\n\t\t\t\t\tlongitude: this.longitude,\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log('定位');\r\n\t\t\t},\r\n\r\n\t\t\t//地图点击事件\r\n\t\t\tcallouttap(e) {\r\n\t\t\t\tvar clickmarkerId = e.detail.markerId;\r\n\t\t\t\tlet markerData = null;\r\n\r\n\t\t\t\tfor (var i = 0; i < this.cover.length; i++) {\r\n\t\t\t\t\tif (this.cover[i].id == clickmarkerId) {\r\n\t\t\t\t\t\tmarkerData = this.cover[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('你点击了气泡标签', e)\r\n\t\t\t\tif (markerData) {\r\n\t\t\t\t\tconsole.log('markerdate', markerData);\r\n\t\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\t\titemList: ['导航', '详情'],\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t\t\t// 用户点击导航按钮，执行导航操作\r\n\t\t\t\t\t\t\t\tthis.navigateToDestination(markerData, '导航');\r\n\t\t\t\t\t\t\t} else if (res.tapIndex === 1) {\r\n\t\t\t\t\t\t\t\t// 用户点击详情按钮，执行详情操作\r\n\t\t\t\t\t\t\t\tthis.navigateToDestination(markerData, '详情');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\tconsole.log('用户取消了操作', res.errMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('未找到对应的 markerData');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavigateToDestination(marker, action) {\r\n\t\t\t\t// 根据标记点或气泡标签的ID执行相应操作，这里仅作为示例\r\n\t\t\t\tconsole.log(`${action}到标记点或气泡标签:`, marker);\r\n\t\t\t\tif (action === '导航') {\r\n\t\t\t\t\t// 使用 goto 方法执行导航\r\n\t\t\t\t\tthis.goto(marker.latitude, marker.longitude, marker.title);\r\n\t\t\t\t} else if (action === '详情') {\r\n\t\t\t\t\tthis.$utils.jump(`../huodongxinxi/detail?id=${marker.activity_id}`)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoto(latitude, longitude, title) {\r\n\t\t\t\t// 调用你的 goto 方法，并传递目的地经纬度\r\n\t\t\t\tlet plugin = requirePlugin('routePlan');\r\n\t\t\t\tlet key = '3XWBZ-6KC67-ULWXK-HUTAN-W6SJK-JLBTW'; // 使用在腾讯位置服务申请的key\r\n\t\t\t\tlet referer = 'map'; // 调用插件的app的名称\r\n\t\t\t\tlet startPoint = JSON.stringify({ // 起点\r\n\t\t\t\t\t'name': '我的位置',\r\n\t\t\t\t\tlatitude: this.latitude,\r\n\t\t\t\t\tlongitude: this.longitude\r\n\t\t\t\t});\r\n\t\t\t\tlet endPoint = JSON.stringify({ // 终点\r\n\t\t\t\t\tname: title,\r\n\t\t\t\t\tlatitude: latitude,\r\n\t\t\t\t\tlongitude: longitude\r\n\t\t\t\t});\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: 'plugin://routePlan/index?key=' + key + '&referer=' + referer + '&endPoint=' + endPoint +\r\n\t\t\t\t\t\t'&startPoint=' + startPoint + '&navigation=1',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"res==1111=\", res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.log(\"res==2222=\", res)\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.map-container {\r\n\t\t/* margin-top: -40rpx; */\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\r\n\r\n\t\t.cover-view {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\t/* width: 80rpx;\r\n\t\t\theight: 160rpx; */\r\n\t\t\tpadding: 42rpx 22rpx;\r\n\t\t\tcolor: #4F575F;\r\n\t\t\tfont-weight: 400;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tbackground-size: 120rpx 120rpx;\r\n\t\t\tbackground-position: center center;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 150rpx;\r\n\t\t\tright: 32rpx;\r\n\t\t\tborder-radius: 15rpx;\r\n\r\n\r\n\t\t}\r\n\r\n\t\t.cover-image {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twidth: 50rpx;\r\n\t\t\theight: 50rpx;\r\n\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Navigation.vue?vue&type=style&index=0&id=448fc19c&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Navigation.vue?vue&type=style&index=0&id=448fc19c&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1717243282623\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}